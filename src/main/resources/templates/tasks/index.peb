<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task Manager (Assessment)</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 2rem auto; padding: 1rem; }
        ul { list-style: none; padding: 0; }
        li { border: 1px solid #ddd; margin-bottom: 1rem; padding: 1rem; border-radius: 4px; }
        .task-row { display: flex; justify-content: space-between; align-items: center; }
        .actions form { display: inline; margin-left: 0.5rem; }
        input[type="text"] { padding: 0.5rem; margin-right: 0.5rem; }
        button { cursor: pointer; padding: 0.5rem 1rem; }
    </style>
</head>
<body>

<h1>Task Manager</h1>

{# 1. ADD TASK FORM #}
<section aria-labelledby="add-heading">
  <h2 id="add-heading">Add a new task</h2>
  <form action="/tasks" method="post">
    <label for="title">Title</label>
    <input type="text" id="title" name="title" required placeholder="e.g., Buy milk">
    
    {# KEEPING THIS BUG: This input has no label. Good for your Evaluation Findings! #}
    <input type="text" name="priority" placeholder="Priority (optional)">
    
    <button type="submit">Add Task</button>
  </form>
</section>

<hr>

{# 2. TASK LIST #}
<section aria-labelledby="list-heading">
  <h2 id="list-heading">Current tasks ({{ tasks | length }})</h2>
  
  {# KEEPING THIS BUG: Image missing alt text. Good for Findings! #}
  <img src="/static/img/icon.png" width="16" height="16">

  <ul id="task-list">
    {% for task in tasks %}
      <li id="task-{{ task.id }}">
        
        {# Simple "Edit Mode" built directly into the list item #}
        <div class="task-row">
            
            {# The Edit Form (Required for T2: Edit Task) #}
            <form action="/tasks/{{ task.id }}/edit" method="post">
                <label for="edit-{{ task.id }}" class="visually-hidden">Edit Title:</label>
                <input type="text" id="edit-{{ task.id }}" name="title" value="{{ task.title }}">
                <button type="submit">Update</button>
            </form>

            {# The Delete Form (Required for T3: Delete Task) #}
            <div class="actions">
                <form action="/tasks/{{ task.id }}/delete" method="post">
                    <button type="submit" aria-label="Delete task: {{ task.title }}">Delete</button>
                </form>
            </div>
        </div>

      </li>
    {% else %}
      <li>No tasks yet. Add one above!</li>
    {% endfor %}
  </ul>
</section>

</body>
</html>
